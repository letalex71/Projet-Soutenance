{# pages/discover.html.twig #}
{% extends "base.html.twig" %}
{% block title %}Discover {% endblock %}
{% block stylesheets %}{% endblock %}
{% block body %}
<main class="page projects-page">
    {% for message in app.flashes('success') %}
    <div class="alert alert-success col-12 text-center"> Bonjour {{ app.user.email }}, {{ message}} !
    </div>
    {% endfor %}
    <div class="container-fluid ">
    <section class="portfolio-block projects-cards">
        <div class="heading">
            <h2>Découvrir</h2>
        </div>
        <div class="container">
            <h2>Films populaires</h2>
            <div class="row" id="popular-movies"></div>
        </div>
        <div class="container">
            <hr>
            <h2>Séries populaires</h2>
            <div class="row" id="popular-shows"></div>
        </div>
        <div class="container">
            <hr>
            <h2>Tendances aujourd'hui</h2>
            <div class="row" id="trendings"></div>
        </div>
    </section>
</main>

{% endblock %}
{% block javascripts %}
<script src="{{ asset('js/api/tmdb_api.js') }} "></script>
<script src="{{ asset('js/api/tmdb_api_calls.js') }}"></script>
<script src="{{ asset('js/display/display.js') }} "></script>
<script src="{{ asset('js/display/add_list_form.js') }}"></script>
<script>

    isLogged = {{ (app.user is not empty) ? 'true' : 'false' }};

    {% if app.user is not empty %}

        userId = {{ app.user.id }};
        watchlistPath = '{{ path('send_watchlist') }}';
        redirectionPath = '{{ path('home')}}';
        deleteItemPath = '{{ path('delete_item') }}';

    {% endif %}

    formCheckPath = '{{ path('form_check') }}';


    homePage();

</script>
{% endblock %}